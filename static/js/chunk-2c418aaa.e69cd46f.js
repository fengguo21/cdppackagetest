(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c418aaa"],{"0870":function(e,t,a){"use strict";var n=a("a743"),r=a.n(n);r.a},a743:function(e,t,a){},ce6f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,indent:"10","row-key":"id"},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{label:"来源",prop:"name","render-header":e.renderHeader}}),e._v(" "),a("el-table-column",{attrs:{label:"访客占比",prop:"visitor_rate",sortable:"custom","render-header":e.renderHeader}}),e._v(" "),a("el-table-column",{attrs:{label:"访客数",prop:"visitor_num",sortable:"custom","render-header":e.renderHeader},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex"}},[a("el-rate",{attrs:{disabled:"",max:e.max},model:{value:t.row.importance,callback:function(a){e.$set(t.row,"importance",a)},expression:"scope.row.importance"}}),e._v(" "),a("span",[e._v(e._s(t.row.visitor_num))])],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"详情",visible:e.dialogTableVisible,width:"60%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.moreItems}},[a("el-table-column",{attrs:{property:"name",label:"来源",width:"250"}}),e._v(" "),a("el-table-column",{attrs:{property:"visitor_rate",label:"访客占比",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"visitor_num",label:"访客数"}})],1)],1)],1)},r=[],l=a("b775");function o(e){return Object(l["a"])({url:"/app/business/enter",method:"post",data:e})}var i={name:"Tab",data:function(){return{tableData:"",max:8,enterType:"微信",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},value1:"",value2:"",dialogTableVisible:!1}},created:function(){this.getTraffic()},methods:{renderHeader:function(e,t){var a=t.column,n=a.label,r="";if("访客占比"===n)r="该渠道的访客数总量占比";else{if("访客数"!==n)return e("span",[a.label]);r="该渠道的访客数总量"}return e("el-tooltip",{class:"item",attrs:{effect:"light",content:r,placement:"top"}},[e("span",[a.label])])},getTraffic:function(){var e=this,t={oby:"visitor_rate",obyt:2};o(t).then(function(t){console.log(t.results),e.tableData=t.data}).catch(function(e){console.log(e)})},sortChange:function(e){var t=this;console.log(e);var a={oby:e.prop,obyt:"ascending"===e.order?1:2};o(a).then(function(e){console.log(e),t.tableData=e.data})}}},s=i,c=(a("0870"),a("17cc")),u=Object(c["a"])(s,n,r,!1,null,"920ddcb6",null);t["default"]=u.exports}}]);